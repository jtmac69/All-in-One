# Kaspa All-in-One Configuration

# ============================================================================
# DEPLOYMENT PROFILES
# ============================================================================
# Available profiles: prod, explorer, archive, development, mining
# Use: docker compose --profile prod --profile explorer up -d

# ============================================================================
# CORE INFRASTRUCTURE
# ============================================================================

# Kaspa Node Configuration
PUBLIC_NODE=true
KASPA_NODE_RPC_PORT=16111
KASPA_NODE_P2P_PORT=16110
LOG_LEVEL=info

# Public Node Settings
ENABLE_PUBLIC_ACCESS=true

# Core Service Ports
DASHBOARD_PORT=8080
HTTP_PORT=80
HTTPS_PORT=443

# ============================================================================
# REMOTE CONNECTIONS (for distributed deployments)
# ============================================================================
# Leave empty to use local services, or specify remote URLs

# Remote Kaspa Node (if running indexers on separate machine)
REMOTE_KASPA_NODE_URL=

# Remote Indexer URLs (if running apps on separate machine)
REMOTE_KASIA_INDEXER_URL=
REMOTE_KSOCIAL_INDEXER_URL=

# ============================================================================
# PRODUCTION PROFILE - User Applications
# ============================================================================

# Mining Configuration
STRATUM_PORT=5555
MINING_ADDRESS=solo

# Application Ports
KASIA_APP_PORT=3001
KSOCIAL_APP_PORT=3003

# ============================================================================
# EXPLORER PROFILE - Indexing Services
# ============================================================================

# Database Configuration
POSTGRES_DB=kaspa_indexers
POSTGRES_USER=indexer
POSTGRES_PASSWORD=secure_indexer_password
POSTGRES_PORT=5432

# Indexer Ports
KASIA_INDEXER_PORT=3002
KSOCIAL_INDEXER_PORT=3004
SIMPLY_INDEXER_PORT=3005

# Simply Kaspa Indexer Configuration
SIMPLY_INDEXER_MODE=full  # Options: full, light, archive

# ============================================================================
# ARCHIVE PROFILE - Long-term Data Storage
# ============================================================================

# Archive Database Configuration
ARCHIVE_POSTGRES_DB=kaspa_archive
ARCHIVE_POSTGRES_USER=archiver
ARCHIVE_POSTGRES_PASSWORD=secure_archive_password
ARCHIVE_POSTGRES_PORT=5433

# Archive Indexer Configuration
ARCHIVE_INDEXER_PORT=3006
ARCHIVE_RETENTION_DAYS=0  # 0 = keep forever

# ============================================================================
# DEVELOPMENT PROFILE - Development Tools
# ============================================================================

# Development Tool Ports
PORTAINER_PORT=9000
PGADMIN_PORT=9001

# pgAdmin Configuration
PGADMIN_EMAIL=admin@kaspa-aio.local
PGADMIN_PASSWORD=admin

# ============================================================================
# SSL/TLS Configuration (optional)
# ============================================================================

ENABLE_SSL=false
SSL_CERT_PATH=./config/ssl/cert.pem
SSL_KEY_PATH=./config/ssl/key.pem

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# Container Resource Limits (optional)
KASPA_NODE_MEMORY_LIMIT=4g
INDEXER_MEMORY_LIMIT=2g
APP_MEMORY_LIMIT=1g

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30